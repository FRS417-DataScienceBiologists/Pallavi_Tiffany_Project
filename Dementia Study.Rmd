---
title: "FRS Dementia Study"
author: "Pallavi Malladi and Tiffany Sin"
date: "Winter 2019"
output:
  html_document:
    keep_md: yes
    theme: spacelab
---
## Goal: Determine which Race and geographic code have a higher inclincation for developing dementia. Is there any correlation between the Race and geography?

## The data is collected between April 2018 and January 2019. Data was collected at the end of each month, and recorded values represent the number of people who showed signs/symptoms of Dementia at various clinics throughout England.

## Load the tidyverse
```{r message=FALSE, warning=FALSE}
library(tidyverse)
```

```{r}
dementia_data <- readr::read_csv("Recorded_Dementia_Diagnoses_by_Race.csv")
```

```{r}
names(dementia_data)
```

Rename some of the variables. Notice that I am replacing the old `dementia_data` data.
```{r}
dementia_data <- 
  dementia_data %>% 
  dplyr::rename(
          Recorded_Date = 'ach_date',
          Organization_Code  = 'COMMISSIONER_ORGANISATION_CODE',
          Clinical_Commisioning_Groups  = 'CCG_NAME',
          Race  = 'Measure',
          Dementia_Rate_Indicator   = 'Value'
          )
dementia_data
```

```{r}
dementia_data %>% 
  separate(Race, into=c("race1", "race2", "race3", "race4", "race5", "race6", "race7", "race8"), sep="_") %>% 
  select(-race2, -race3)
```



## Explore the data using the method that you prefer. Below, I am using a new package called `skimr`. If you want to use this, make sure that it is installed.
```{r}
install.packages("skimr")
##installs a new package (not the tidyverse!)
```

```{r}
library("skimr")
```

```{r}
dementia_data %>% 
  skimr::skim()
##skimr is like another summary function
```

## 2. Run the code below. Are there any NA's in the data? Does this seem likely?
```{r}
dementia_data %>% 
  summarize(number_nas= sum(is.na(dementia_data)))
## Technically, there are no NA's, but it is possible that there is another value such as -999 that represents a null value
```

##Produce a summary that shows the number of observations by Race.
```{r}
names(dementia_data) ##I'm using this to get a general idea of the column headers so I know which notation to use within my code
```

```{r}
dementia_data %>% 
  group_by(Race) %>% ##groups by taxonomic order
  summarize(n())## n represents the number of observations; each order has a certain number of observations

## From this line of code, we see that each Race has 1950 observations
```

## Mutate the Dementia_data set to not include the "NOT_DEFINED" since it is not contributing to our results dealing with specific Races.
```{r}
dementia_data<- dementia_data %>% 
  filter(Race!= "NOT_DEFINED")
dementia_data
```


## 5. Mammals have a range of life histories, including lifespan. Produce a summary of lifespan in years by order. Be sure to include the minimum, maximum, mean, standard deviation, and total n.
```{r}
dementia_data <-dementia_data %>%
  ## MAKE CODE TO REMOVE THE NOT_DEFINED Race SINCE IT IS NOT TELLING US RELEVANT INFORMATION
  arrange(desc(Dementia_Rate_Indicator))
dementia_data
```

## Making a plot to visually show the difference between. Plot is shown for each month and shows barplot comparing Races showing Dementia
```{r}
dementia_data %>% 
  ggplot(aes(x=Race, y=Dementia_Rate_Indicator, fill=Race))+
  geom_bar(stat="identity")
```

```{r}
general_data<- dementia_data %>% 
  filter(Organization_Code, GEOGRAPHY_CODE,Clinical_Commisioning_Groups, Race, Dementia_Rate_Indicator)
```

## Making a plot to compare Ethncity and Dementia Diagnosis indicator by region to see if there is a correlation between Dementia Diagnosis and the geograohical region.
```{r}
dementia_data %>% 
  ggplot(aes(x=Race, y=Dementia_Rate_Indicator, fill=Race))+
  geom_bar(stat="identity")+
  facet_wrap(~Clinical_Commisioning_Groups)
```

## Conclusion: There seems to be a significantly higher amount of Whites coming into the clinics. This may indicate a social difference between White and other Races. For example, other Races may have cultural backgrounds that stigmatizes mental health or going to hospitals regularly for chekcups. We were not sue how to work around this significantly higher data, but it does bring about an important topic for discussion regarding mental health, social taboos, financial burders, and personal care.